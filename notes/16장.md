# 16. JVM은 도대체 어떻게 구동될까?
- 자바 성능 개선을 위해 Just In Time(JIT) 컴파일러를 만들었고 이름을 HotSpot으로 지었다
- JIT 컴파일러는 프로그램의 성능에 영향을 주는 지점을 분석하여 그 지점의 부화를 최소화하고 최적화한다
- HotSpot VM
    - VM(Virtual Machine) 런타임
    - JIT(Just In Time) 컴파일러: 자바 메서드가 호출되면 바이트 코드를 컴파일하고 실행 가능한 네이티브 코드로 변환함
    - 메모리 관리자
- JIT Optimizer
    - 수행 카운터: 메서드를 시작할 때마다 증가(XX:CompileThreshold)
    - 백에지 카운터: 높은 바이트 코드 인덱스에서 낮은 인덱스로 컨트롤 흐름이 변경될 때마다 증가, 메서드가 루프가 존재하는지를 확인하며 수행 카운터 보다 컴파일 우선순위가 높음(XX:CompileTreshold * XX:OnStackReplacePercentage / 100)
    - 위의 카운터에 사용하는 한계치에 도달할 경우 컴파일을 요청함 -> 컴파일 대상 목로의 큐에 쌓임 -> 컴파일러 스레드가 큐를 모니터링 하다가 컴파일러 스레드가 바쁘지 않을 때 큐에서 대상을 뺴내서 컴파일을 시작함